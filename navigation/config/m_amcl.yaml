amcl:
  ros__parameters:
    use_sim_time: True
    min_particles: 500
    max_particles: 3000
    transform_tolerance: 1.0  # Increased tolerance
    update_min_d: 0.2
    update_min_a: 0.5
    resample_interval: 1
    
    # TF settings - CRITICAL FIX
    odom_frame_id: "odom"
    base_frame_id: "base_footprint" 
    global_frame_id: "map"
    
    # Initial pose settings
    set_initial_pose: true
    initial_pose:
      x: 0.0
      y: 0.0
      theta: 0.0
    initial_pose_covariance: [0.25, 0.0, 0.0, 0.0, 0.25, 0.0, 0.0, 0.0, 0.06853891945200942]
    
    # Laser model settings
    laser_model_type: "likelihood_field"
    laser_likelihood_max_dist: 2.0
    
    # Odometry model settings  
    odom_model_type: "diff"
    odom_alpha1: 0.2
    odom_alpha2: 0.2
    odom_alpha3: 0.2
    odom_alpha4: 0.2